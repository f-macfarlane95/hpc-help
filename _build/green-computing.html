<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Green Computing &mdash; Crop Diversity HPC Help  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data Storage &amp; Management Policy" href="data-storage.html" />
    <link rel="prev" title="OpenMPI" href="openmpi.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Crop Diversity HPC Help
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="system-overview.html">System Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user-accounts.html">Requesting an Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="ssh.html">Getting Connected</a></li>
<li class="toctree-l1"><a class="reference internal" href="guest-accounts.html">Guest Accounts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">High performance computing</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="slurm-overview.html">Slurm - Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="slurm-policy.html">Slurm - Queue Policies &amp; Advice</a></li>
<li class="toctree-l1"><a class="reference internal" href="slurm-shortcuts.html">Slurm - Shortcuts and Aliases</a></li>
<li class="toctree-l1"><a class="reference internal" href="bioconda.html">Bioconda</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiling.html">Compiling Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-compression.html">Working with Compressed Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="singularity.html">Apptainer (Singularity)</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu.html">GPU Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine-learning.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="apps.html">Tools &amp; Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="database-mirrors.html">Database Mirrors</a></li>
<li class="toctree-l1"><a class="reference internal" href="openmpi.html">OpenMPI</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Green Computing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-to-tell-if-a-node-is-powered-down">How to tell if a node is powered down</a></li>
<li class="toctree-l2"><a class="reference internal" href="#when-will-nodes-power-up-down">When will nodes power up/down?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-much-energy-will-this-save">How much energy will this save?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#our-commitment-to-green-computing">Our commitment to Green Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-can-i-do-to-help">What can I do to help?</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data storage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data-storage.html">Data Storage &amp; Management Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="backups.html">Backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-transfers.html">File Transfers</a></li>
<li class="toctree-l1"><a class="reference internal" href="samba.html">Samba Access</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contact-us.html">Contact Us</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring.html">Monitoring &amp; Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="linux-basics.html">Linux Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips &amp; Tricks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The legal stuff</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="organizations.html">Supported Organisations</a></li>
<li class="toctree-l1"><a class="reference internal" href="sla.html">Service Level Agreement</a></li>
<li class="toctree-l1"><a class="reference internal" href="acceptable-use.html">Acceptable Use Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="gdpr.html">GDPR Privacy Notice</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Crop Diversity HPC Help</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Green Computing</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/cropgeeks/hpc-help/blob/master/green-computing.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="green-computing">
<h1>Green Computing<a class="headerlink" href="#green-computing" title="Permalink to this headline"></a></h1>
<p>Green computing attempts to lower the carbon footprint of computing via environmentally responsible and eco-friendly use of computers and their resources.</p>
<p class="centered">
<strong><img alt="logo" src="_images/green-computing.png" /></strong></p><p>We have attempted to <em>greenify</em> our compute cluster by allowing idle nodes to power down when not in use, <strong>saving energy</strong> by lowering the electrical demand of the cluster, which in turn reduces load on its cooling systems, saving yet more energy and hence money.</p>
<p>By intelligently monitoring job submissions, nodes can be automatically powered up again as and when they are needed.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This is still an experimental service, so please <a class="reference internal" href="contact-us.html"><span class="doc">Contact Us</span></a> to report any problems or issues.</p>
</div>
<section id="how-to-tell-if-a-node-is-powered-down">
<h2>How to tell if a node is powered down<a class="headerlink" href="#how-to-tell-if-a-node-is-powered-down" title="Permalink to this headline"></a></h2>
<p>You can see which nodes are powered down by visiting <a class="reference external" href="https://cropdiversity.ac.uk/top">https://cropdiversity.ac.uk/top</a> or by querying Slurm:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sinfo -N
NODELIST                  NODES PARTITION  STATE
n19-04-008-cortana            1     debug   idle
n19-32-192-ghost              1     short   idle
n19-32-192-groot              1     short  idle~
n19-32-192-hawkeye            1     short  idle~
n19-32-192-hela               1   medium*    mix
n19-32-192-hulk               1   medium*    mix
</pre></div>
</div>
<p>Nodes that are powered down, but still available for running jobs, show as <code class="docutils literal notranslate"><span class="pre">idle~</span></code>.</p>
<p>You may also see the following characters listed against node states in relation to power saving features:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">#</span></code> the node is powering up or being configured</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%</span></code> the node is powering down</p></li>
</ul>
</section>
<section id="when-will-nodes-power-up-down">
<h2>When will nodes power up/down?<a class="headerlink" href="#when-will-nodes-power-up-down" title="Permalink to this headline"></a></h2>
<p>Nodes power down <strong>fifteen minutes</strong> after their last job completes, but power up again <strong>whenever</strong> Slurm allocates them a new job.</p>
<p>It takes 3 or 4 minutes for a node to resume operation, and jobs obviously won’t start running on it until it’s ready. <code class="docutils literal notranslate"><span class="pre">squeue</span></code> may show your job’s status as <code class="docutils literal notranslate"><span class="pre">CF</span></code> (configuring) during this process.</p>
<ul class="simple">
<li><p><strong>Batch jobs</strong> - if you’ve submitted a batch job, then you don’t need to do anything different; it’ll queue and start once the node is ready</p></li>
<li><p><strong>Interactive jobs</strong> - if you’ve submitted an interactive job, your terminal prompt waits (for 3 or 4 minutes) until the node is ready, then logs you in</p></li>
</ul>
</section>
<section id="how-much-energy-will-this-save">
<h2>How much energy will this save?<a class="headerlink" href="#how-much-energy-will-this-save" title="Permalink to this headline"></a></h2>
<p>The answer to that very much depends on what the cluster is doing. If it’s busy most of the time - with nodes allocated and processing jobs - then it won’t make much of a difference, but if nodes are idle for long periods of time (eg overnight or at weekends) then the potential energy savings are obviously greater.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can see live metrics (showing our savings so far) by visiting <a class="reference external" href="https://cropdiversity.ac.uk/top">https://cropdiversity.ac.uk/top</a>.</p>
</div>
</section>
<section id="our-commitment-to-green-computing">
<h2>Our commitment to Green Computing<a class="headerlink" href="#our-commitment-to-green-computing" title="Permalink to this headline"></a></h2>
<p>In addition to the policy outlined above, when specifying and building the cluster we attempted to select processors with excellent <em>performance per watt</em> metrics, which improves the general efficiency of the HPC.</p>
<p>The vast majority of the compute nodes also use special four-node chassis units that allow power and cooling to be shared between the nodes, further reducing the energy demands of the cluster.</p>
<p>Finally, the <a class="reference external" href="https://www.hutton.ac.uk">James Hutton Institute</a>, where the Crop Diversity HPC is located, only sources electricity that is backed by Renewable Energy Generation Obligation (REGO) certificates. This is a scheme that supports mechanisms for large-scale renewable electricity projects in the UK.</p>
</section>
<section id="what-can-i-do-to-help">
<h2>What can I do to help?<a class="headerlink" href="#what-can-i-do-to-help" title="Permalink to this headline"></a></h2>
<p>How you allocate and run jobs also has an impact on how energy efficient the system can be.</p>
<ul class="simple">
<li><p><strong>Don’t over allocate resources</strong> - a single node running 32 tasks uses far less energy than 32 nodes running 1 task each, so if you over-allocate resources then more nodes need to be online to meet your requirements, ultimately wasting energy.</p></li>
<li><p><strong>Don’t leave idle interactive jobs running</strong> - nodes can only be fully powered down when all their jobs are finished, which can’t happen if you’ve started an interactive job and left it idle after your task is finished.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="openmpi.html" class="btn btn-neutral float-left" title="OpenMPI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="data-storage.html" class="btn btn-neutral float-right" title="Data Storage &amp; Management Policy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 Information &amp; Computational Sciences, The James Hutton Institute.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>