<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SSH SOCKS Proxies &mdash; Crop Diversity HPC Help  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Crop Diversity HPC Help
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="system-overview.html">System Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user-accounts.html">Requesting an Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="ssh.html">Getting Connected</a></li>
<li class="toctree-l1"><a class="reference internal" href="guest-accounts.html">Guest Accounts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">High performance computing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="slurm-overview.html">Slurm - Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="slurm-policy.html">Slurm - Queue Policies &amp; Advice</a></li>
<li class="toctree-l1"><a class="reference internal" href="slurm-shortcuts.html">Slurm - Shortcuts and Aliases</a></li>
<li class="toctree-l1"><a class="reference internal" href="bioconda.html">Bioconda</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiling.html">Compiling Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-compression.html">Working with Compressed Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="singularity.html">Apptainer (Singularity)</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu.html">GPU Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine-learning.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="apps.html">Tools &amp; Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="database-mirrors.html">Database Mirrors</a></li>
<li class="toctree-l1"><a class="reference internal" href="openmpi.html">OpenMPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="green-computing.html">Green Computing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data storage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data-storage.html">Data Storage &amp; Management Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="backups.html">Backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-transfers.html">File Transfers</a></li>
<li class="toctree-l1"><a class="reference internal" href="samba.html">Samba Access</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contact-us.html">Contact Us</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring.html">Monitoring &amp; Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="linux-basics.html">Linux Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips &amp; Tricks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The legal stuff</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="organizations.html">Supported Organisations</a></li>
<li class="toctree-l1"><a class="reference internal" href="sla.html">Service Level Agreement</a></li>
<li class="toctree-l1"><a class="reference internal" href="acceptable-use.html">Acceptable Use Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="gdpr.html">GDPR Privacy Notice</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Crop Diversity HPC Help</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>SSH SOCKS Proxies</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/cropgeeks/hpc-help/blob/master/ssh-socks.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ssh-socks-proxies">
<h1>SSH SOCKS Proxies<a class="headerlink" href="#ssh-socks-proxies" title="Permalink to this headline"></a></h1>
<p>Certain (usually sensitive) Crop Diversity HPC web pages are only available to you if you are connecting via a <a class="reference internal" href="organizations.html"><span class="doc">Supported Organisations</span></a> network, and will block you from viewing them via a remote access connection.</p>
<p>You can work around this limitation by employing SSH’s ability to <em>proxy</em> your web traffic via <code class="docutils literal notranslate"><span class="pre">gruffalo</span></code>, thereby allowing you access to any protected pages</p>
<blockquote>
<div><p><img alt="proxy" src="_images/socks-proxy.png" /></p>
</div></blockquote>
<section id="creating-a-socks-proxy">
<h2>Creating a SOCKS proxy<a class="headerlink" href="#creating-a-socks-proxy" title="Permalink to this headline"></a></h2>
<p>This is very easy to do. Connect to <code class="docutils literal notranslate"><span class="pre">gruffalo</span></code> as per normal, but with the additional <code class="docutils literal notranslate"><span class="pre">-D</span></code> option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ssh -D 8080 &lt;username&gt;@gruffalo.cropdiversity.ac.uk
</pre></div>
</div>
<p>This tells SSH to run a <strong>SOCKS proxy</strong> (<a class="reference external" href="https://en.wikipedia.org/wiki/SOCKS">https://en.wikipedia.org/wiki/SOCKS</a>) listening on port <code class="docutils literal notranslate"><span class="pre">8080</span></code> (you can pick any unused local port number). Your web browser can then use this proxy to forward all its traffic over the encrypted SSH connection, via <code class="docutils literal notranslate"><span class="pre">gruffalo</span></code>, and onwards to its final destination.</p>
</section>
<section id="using-a-socks-proxy">
<h2>Using a SOCKS proxy<a class="headerlink" href="#using-a-socks-proxy" title="Permalink to this headline"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Different web browsers have different settings for their proxy options, but support for SOCKS proxies is universal. You may have to dig around to find them, but the settings you need will be in there somewhere.</p>
</div>
<p>Once you’ve found your browser’s Network/Proxy settings, you need to modify them as follows:</p>
<ul class="simple">
<li><p>enable proxying</p></li>
<li><p>set the SOCKS host to <code class="docutils literal notranslate"><span class="pre">localhost</span></code></p></li>
<li><p>set the SOCKS port to <code class="docutils literal notranslate"><span class="pre">8080</span></code> (or whatever port number you selected)</p></li>
<li><p>turn on DNS via the proxy</p></li>
</ul>
<p>The example below shows this configuration in Firefox.</p>
<blockquote>
<div><p><img alt="settings" src="_images/socks-settings.png" /></p>
</div></blockquote>
<p>Once enabled, you can test it’s working by visiting <a class="reference external" href="https://www.whatsmyip.org/">https://www.whatsmyip.org/</a> - you want it list <code class="docutils literal notranslate"><span class="pre">143.234.80.231</span></code> (which is <code class="docutils literal notranslate"><span class="pre">gruffalo's</span></code> IP address) rather than your actual IP address.</p>
<p>You should now be able to access our protected web pages.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Your web browser is now configured to proxy <strong>all</strong> traffic via <code class="docutils literal notranslate"><span class="pre">gruffalo</span></code>, which will work <strong>only</strong> while your SSH connection is active. You should disable proxy settings when access to protected web pages is not required and/or find a browser plugin that allows you to quickly toggle them on or off.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 Information &amp; Computational Sciences, The James Hutton Institute.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>