<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Compiling Software &mdash; Crop Diversity HPC Help  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Working with Compressed Files" href="file-compression.html" />
    <link rel="prev" title="Bioconda" href="bioconda.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Crop Diversity HPC Help
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="system-overview.html">System Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user-accounts.html">Requesting an Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="ssh.html">Getting Connected</a></li>
<li class="toctree-l1"><a class="reference internal" href="guest-accounts.html">Guest Accounts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">High performance computing</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="slurm-overview.html">Slurm - Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="slurm-policy.html">Slurm - Queue Policies &amp; Advice</a></li>
<li class="toctree-l1"><a class="reference internal" href="slurm-shortcuts.html">Slurm - Shortcuts and Aliases</a></li>
<li class="toctree-l1"><a class="reference internal" href="bioconda.html">Bioconda</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Compiling Software</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#compiler-versions-a-k-a-changing-gcc">Compiler versions (a.k.a. changing gcc)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="file-compression.html">Working with Compressed Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="singularity.html">Apptainer (Singularity)</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu.html">GPU Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine-learning.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="apps.html">Tools &amp; Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="database-mirrors.html">Database Mirrors</a></li>
<li class="toctree-l1"><a class="reference internal" href="openmpi.html">OpenMPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="green-computing.html">Green Computing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data storage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data-storage.html">Data Storage &amp; Management Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="backups.html">Backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-transfers.html">File Transfers</a></li>
<li class="toctree-l1"><a class="reference internal" href="samba.html">Samba Access</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contact-us.html">Contact Us</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring.html">Monitoring &amp; Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="linux-basics.html">Linux Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips &amp; Tricks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The legal stuff</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="organizations.html">Supported Organisations</a></li>
<li class="toctree-l1"><a class="reference internal" href="sla.html">Service Level Agreement</a></li>
<li class="toctree-l1"><a class="reference internal" href="acceptable-use.html">Acceptable Use Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="gdpr.html">GDPR Privacy Notice</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Crop Diversity HPC Help</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Compiling Software</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/cropgeeks/hpc-help/blob/master/compiling.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="compiling-software">
<h1>Compiling Software<a class="headerlink" href="#compiling-software" title="Permalink to this headline"></a></h1>
<p>If <a class="reference internal" href="bioconda.html"><span class="doc">Bioconda</span></a> doesn’t maintain a pre-built version of an application you’re interested in (and assuming it’s open-source) you may need to resort to compiling it yourself. Every application is different, so although we can’t provide instructions for every case, this page contains some pointers that should help you tackle many of the compilation jobs you’re likely to encounter.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While we’re always happy to try and help you compile third-party applications, please do try to have a go yourself before requesting help. If nothing else, it’s often a good way to learn some fancy new tricks for Linux!</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Before installing any software, please remind yourself of our <a class="reference internal" href="data-storage.html"><span class="doc">Data Storage &amp; Management Policy</span></a> which, in short, says applications should only be kept in your <code class="docutils literal notranslate"><span class="pre">$APPS</span></code> folder.</p>
</div>
<p>tdlr:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./configure --prefix=$APPS/application_name/version
$ make
$ make install
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ mkdir build
$ cd build
$ cmake .. &amp;&amp; make
</pre></div>
</div>
<section id="compiler-versions-a-k-a-changing-gcc">
<h2>Compiler versions (a.k.a. changing gcc)<a class="headerlink" href="#compiler-versions-a-k-a-changing-gcc" title="Permalink to this headline"></a></h2>
<p>Enterprise Linux distributions are designed to be around for a long time (10 years in the case of Rocky Linux) and have to maintain ABI/API compatibility over that lifetime, so that developers can create programs on day 1 of the release that will work as long as the distribution is supported. Over time though, this means the programming language versions included are getting very old compared to those that are available in “cutting edge” Linux distributions.</p>
<p>At the time of writing, the version of gcc (GNU C Compiler) installed on our cluster is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ gcc --version
gcc (GCC) 8.5.0 20210514 (Red Hat 8.5.0-4)
</pre></div>
</div>
<p>However, we can take advantage of an <em>Application Stream</em> built into RHEL/Rocky called <code class="docutils literal notranslate"><span class="pre">GCC</span> <span class="pre">Toolset</span></code> to temporarily enable different environments with newer versions of developer tools, such as updated versions of gcc.</p>
<p>Toolsets currently installed include:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toolset</span><span class="o">-</span><span class="mi">9</span>   <span class="p">(</span><span class="n">gcc</span> <span class="mf">9.2.1</span><span class="p">)</span>
<span class="n">toolset</span><span class="o">-</span><span class="mi">10</span>  <span class="p">(</span><span class="n">gcc</span> <span class="mf">10.3.1</span><span class="p">)</span>
<span class="n">toolset</span><span class="o">-</span><span class="mi">11</span>  <span class="p">(</span><span class="n">gcc</span> <span class="mf">11.2.1</span><span class="p">)</span>
</pre></div>
</div>
<p>To activate and work with a different toolset, use the <code class="docutils literal notranslate"><span class="pre">scl</span> <span class="pre">enable</span></code> command, as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ scl enable gcc-toolset-11 bash
$ gcc --version
gcc (GCC) 11.2.1 20210728 (Red Hat 11.2.1-1)
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In previous versions of RHEL/Rocky this feature was called Software Collections Libraries, hence the <code class="docutils literal notranslate"><span class="pre">scl</span></code> command that’s still in use.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bioconda.html" class="btn btn-neutral float-left" title="Bioconda" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="file-compression.html" class="btn btn-neutral float-right" title="Working with Compressed Files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 Information &amp; Computational Sciences, The James Hutton Institute.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>